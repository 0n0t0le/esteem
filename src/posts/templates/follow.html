<ion-view view-cache="false" view-title="Follow">
  <ion-content class="padding has-footer" delegate-handle="listScroll">
    <div class="list" ng-if="active=='followers'">
      <div class="item item-button-right" ng-repeat="f in followers">
        <span ng-click="profileView(f.follower)">{{f.follower}}</span>
        <button class="button button-positive button-outline" ng-if="!isFollowed(f.follower)" ng-click="followUser(f.follower)">
        Follow back
        </button>
        <button class="button button-positive" ng-if="isFollowed(f.follower)" ng-click="unfollowUser(f.follower)">
        Followed
        </button>
      </div>
    </div>
    <div class="list" ng-if="active=='following'">
      <div class="item item-button-right" ng-repeat="f in following">
        <span ng-click="profileView(f.following)">{{f.following}}</span>
        <button class="button button-positive button-outline" ng-if="!isFollowing(f.following)" ng-click="unfollowUser(f.following)">
        Unfollow
        </button>
        <button class="button button-positive" ng-if="isFollowing(f.following)">
        Following
        </button>
      </div>
    </div>
    <!--<ion-infinite-scroll on-infinite="loadMore()" ng-if="lastd" distance="2%"></ion-infinite-scroll>-->
  </ion-content>
  <div class="bar profile bar-footer">
    <div class="button-bar">
      <a class="button button-large button-royal icon ion-ios-people" ng-class="{'active':active=='followers'}" ng-click="change('followers')"> Followers <span ng-if="followers.length>0">({{followers.length}})</span></a>
      <a class="button button-royal icon ion-person-add" ng-class="{'active':active=='following'}" ng-click="change('following')"> Followed <span ng-if="following.length>0">({{following.length}})</span></a>
    </div>
  </div>
</ion-view>
